{"version":3,"file":"ngx-uploader.umd.js","sources":["~/ngx-uploader/src/ngx-uploader/module/ngx-uploader.module.ts","~/ngx-uploader/src/ngx-uploader/directives/ng-file-drop.directive.ts","~/ngx-uploader/src/ngx-uploader/directives/ng-file-select.directive.ts","~/ngx-uploader/src/ngx-uploader/classes/ngx-uploader.class.ts","~/ngx-uploader/src/ngx-uploader/classes/interfaces.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { NgFileDropDirective } from '../directives/ng-file-drop.directive';\nimport { NgFileSelectDirective } from '../directives/ng-file-select.directive';\nexport class NgUploaderModule {static decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n  declarations: [\n    NgFileSelectDirective,\n    NgFileDropDirective\n  ],\n  exports: [\n    NgFileSelectDirective,\n    NgFileDropDirective\n  ]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction NgUploaderModule_tsickle_Closure_declarations() {\n/** @type {?} */\nNgUploaderModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nNgUploaderModule.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Directive, ElementRef, EventEmitter, Input, Output, OnInit, OnDestroy, HostListener } from '@angular/core';\nimport { UploadOutput, UploadInput, UploaderOptions, NgUploaderService } from '../../../';\nimport { Subscription } from 'rxjs/Subscription';\nexport class NgFileDropDirective implements OnInit, OnDestroy {\n   options: UploaderOptions;\n   uploadInput: EventEmitter<UploadInput>;\n   uploadOutput: EventEmitter<UploadOutput>;\n\n  upload: NgUploaderService;\n  el: HTMLInputElement;\n\n  _sub: Subscription[];\n/**\n * @param {?} elementRef\n */\nconstructor(public elementRef: ElementRef) {\n    this.uploadOutput = new EventEmitter<UploadOutput>();\n  }\n/**\n * @return {?}\n */\nngOnInit() {\n    this._sub = [];\n    const /** @type {?} */ concurrency = this.options && this.options.concurrency || Number.POSITIVE_INFINITY;\n    const /** @type {?} */ allowedContentTypes = this.options && this.options.allowedContentTypes || ['*'];\n    this.upload = new NgUploaderService(concurrency, allowedContentTypes);\n\n    this.el = this.elementRef.nativeElement;\n\n    this._sub.push(\n      this.upload.serviceEvents.subscribe((event: UploadOutput) => {\n        this.uploadOutput.emit(event);\n      })\n    );\n\n    if (this.uploadInput instanceof EventEmitter) {\n      this._sub.push(this.upload.initInputEvents(this.uploadInput));\n    }\n\n    this.el.addEventListener('drop', this.stopEvent, false);\n    this.el.addEventListener('dragenter', this.stopEvent, false);\n    this.el.addEventListener('dragover', this.stopEvent, false);\n  }\n/**\n * @return {?}\n */\nngOnDestroy() {\n    this._sub.forEach(sub => sub.unsubscribe());\n  }\n\n  stopEvent = (e: Event) => {\n    e.stopPropagation();\n    e.preventDefault();\n  }\n/**\n * @param {?} e\n * @return {?}\n */\npublic onDrop(e: any) {\n    e.stopPropagation();\n    e.preventDefault();\n\n    const /** @type {?} */ event: UploadOutput = { type: 'drop' };\n    this.uploadOutput.emit(event);\n    this.upload.handleFiles(e.dataTransfer.files);\n  }\n/**\n * @param {?} e\n * @return {?}\n */\npublic onDragOver(e: Event) {\n    if (!e) {\n      return;\n    }\n\n    const /** @type {?} */ event: UploadOutput = { type: 'dragOver' };\n    this.uploadOutput.emit(event);\n  }\n/**\n * @param {?} e\n * @return {?}\n */\npublic onDragLeave(e: Event) {\n    if (!e) {\n      return;\n    }\n\n    const /** @type {?} */ event: UploadOutput = { type: 'dragOut' };\n    this.uploadOutput.emit(event);\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: '[ngFileDrop]'\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'options': [{ type: Input },],\n'uploadInput': [{ type: Input },],\n'uploadOutput': [{ type: Output },],\n'onDrop': [{ type: HostListener, args: ['drop', ['$event'], ] },],\n'onDragOver': [{ type: HostListener, args: ['dragover', ['$event'], ] },],\n'onDragLeave': [{ type: HostListener, args: ['dragleave', ['$event'], ] },],\n};\n}\n\nfunction NgFileDropDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nNgFileDropDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nNgFileDropDirective.ctorParameters;\n/** @type {?} */\nNgFileDropDirective.propDecorators;\n/** @type {?} */\nNgFileDropDirective.prototype.options;\n/** @type {?} */\nNgFileDropDirective.prototype.uploadInput;\n/** @type {?} */\nNgFileDropDirective.prototype.uploadOutput;\n/** @type {?} */\nNgFileDropDirective.prototype.upload;\n/** @type {?} */\nNgFileDropDirective.prototype.el;\n/** @type {?} */\nNgFileDropDirective.prototype._sub;\n/** @type {?} */\nNgFileDropDirective.prototype.stopEvent;\n/** @type {?} */\nNgFileDropDirective.prototype.elementRef;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { Directive, ElementRef, EventEmitter, Input, Output, OnInit, OnDestroy } from '@angular/core';\nimport { UploadOutput, UploaderOptions, NgUploaderService } from '../../../';\nimport { Subscription } from 'rxjs/Subscription';\nexport class NgFileSelectDirective implements OnInit, OnDestroy {\n   options: UploaderOptions;\n   uploadInput: EventEmitter<any>;\n   uploadOutput: EventEmitter<UploadOutput>;\n\n  upload: NgUploaderService;\n  el: HTMLInputElement;\n\n  _sub: Subscription[];\n/**\n * @param {?} elementRef\n */\nconstructor(public elementRef: ElementRef) {\n    this.uploadOutput = new EventEmitter<UploadOutput>();\n  }\n/**\n * @return {?}\n */\nngOnInit() {\n    this._sub = [];\n    const /** @type {?} */ concurrency = this.options && this.options.concurrency || Number.POSITIVE_INFINITY;\n    const /** @type {?} */ allowedContentTypes = this.options && this.options.allowedContentTypes || ['*'];\n    this.upload = new NgUploaderService(concurrency, allowedContentTypes);\n\n    this.el = this.elementRef.nativeElement;\n    this.el.addEventListener('change', this.fileListener, false);\n\n    this._sub.push(\n      this.upload.serviceEvents.subscribe((event: UploadOutput) => {\n        this.uploadOutput.emit(event);\n      })\n    );\n\n    if (this.uploadInput instanceof EventEmitter) {\n      this._sub.push(this.upload.initInputEvents(this.uploadInput));\n    }\n  }\n/**\n * @return {?}\n */\nngOnDestroy() {\n    this.el.removeEventListener('change', this.fileListener, false);\n    this._sub.forEach(sub => sub.unsubscribe());\n  }\n\n  fileListener = () => {\n    if (this.el.files) {\n      this.upload.handleFiles(this.el.files);\n    }\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: '[ngFileSelect]'\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'options': [{ type: Input },],\n'uploadInput': [{ type: Input },],\n'uploadOutput': [{ type: Output },],\n};\n}\n\nfunction NgFileSelectDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nNgFileSelectDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nNgFileSelectDirective.ctorParameters;\n/** @type {?} */\nNgFileSelectDirective.propDecorators;\n/** @type {?} */\nNgFileSelectDirective.prototype.options;\n/** @type {?} */\nNgFileSelectDirective.prototype.uploadInput;\n/** @type {?} */\nNgFileSelectDirective.prototype.uploadOutput;\n/** @type {?} */\nNgFileSelectDirective.prototype.upload;\n/** @type {?} */\nNgFileSelectDirective.prototype.el;\n/** @type {?} */\nNgFileSelectDirective.prototype._sub;\n/** @type {?} */\nNgFileSelectDirective.prototype.fileListener;\n/** @type {?} */\nNgFileSelectDirective.prototype.elementRef;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { EventEmitter } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { Subject } from 'rxjs/Subject';\nimport { Subscription } from 'rxjs/Subscription';\nimport'rxjs/add/operator/mergeMap';\nimport { UploadFile, UploadOutput, UploadInput, UploadStatus, BlobFile } from './interfaces';\n/**\n * @param {?} bytes\n * @return {?}\n */\nexport function humanizeBytes(bytes: number): string {\n  if (bytes === 0) {\n    return '0 Byte';\n  }\n\n  const /** @type {?} */ k = 1024;\n  const /** @type {?} */ sizes: string[] = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB'];\n  const /** @type {?} */ i: number = Math.floor(Math.log(bytes) / Math.log(k));\n\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n}\nexport class NgUploaderService {\n  queue: UploadFile[];\n  serviceEvents: EventEmitter<UploadOutput>;\n  uploadScheduler: Subject<{ file: UploadFile, event: UploadInput }>;\n  subs: { id: string, sub: Subscription }[];\n  contentTypes: string[];\n/**\n * @param {?=} concurrency\n * @param {?=} contentTypes\n */\nconstructor(concurrency: number = Number.POSITIVE_INFINITY, contentTypes: string[] = ['*']) {\n    this.queue = [];\n    this.serviceEvents = new EventEmitter<any>();\n    this.uploadScheduler = new Subject();\n    this.subs = [];\n    this.contentTypes = contentTypes;\n\n    this.uploadScheduler\n      .mergeMap(upload => this.startUpload(upload), concurrency)\n      .subscribe(uploadOutput => this.serviceEvents.emit(uploadOutput));\n  }\n/**\n * @param {?} incomingFiles\n * @return {?}\n */\nhandleFiles(incomingFiles: FileList): void {\n    const /** @type {?} */ allowedIncomingFiles: File[] = [].reduce.call(incomingFiles, (acc: File[], checkFile: File, i: number) => {\n      if (this.isContentTypeAllowed(checkFile.type)) {\n        acc = acc.concat(checkFile);\n      } else {\n        const /** @type {?} */ rejectedFile: UploadFile = this.makeUploadFile(checkFile, i);\n        this.serviceEvents.emit({ type: 'rejected', file: rejectedFile });\n      }\n\n      return acc;\n    }, []);\n\n    this.queue.push(...[].map.call(allowedIncomingFiles, (file: File, i: number) => {\n      const /** @type {?} */ uploadFile: UploadFile = this.makeUploadFile(file, i);\n      this.serviceEvents.emit({ type: 'addedToQueue', file: uploadFile });\n      return uploadFile;\n    }));\n\n    this.serviceEvents.emit({ type: 'allAddedToQueue' });\n  }\n/**\n * @param {?} input\n * @return {?}\n */\ninitInputEvents(input: EventEmitter<UploadInput>): Subscription {\n    return input.subscribe((event: UploadInput) => {\n      switch (event.type) {\n        case 'uploadFile':\n          const /** @type {?} */ uploadFileIndex = this.queue.findIndex(file => file === event.file);\n          if (uploadFileIndex !== -1 && event.file) {\n            this.uploadScheduler.next({ file: this.queue[uploadFileIndex], event: event });\n          }\n        break;\n        case 'uploadAll':\n          const /** @type {?} */ files = this.queue.filter(file => file.progress.status === UploadStatus.Queue);\n          files.forEach(file => this.uploadScheduler.next({ file: file, event: event }));\n        break;\n        case 'cancel':\n          const /** @type {?} */ id = event.id || null;\n          if (!id) {\n            return;\n          }\n\n          const /** @type {?} */ index = this.subs.findIndex(sub => sub.id === id);\n          if (index !== -1 && this.subs[index].sub) {\n            this.subs[index].sub.unsubscribe();\n\n            const /** @type {?} */ fileIndex = this.queue.findIndex(file => file.id === id);\n            if (fileIndex !== -1) {\n              this.queue[fileIndex].progress.status = UploadStatus.Cancelled;\n              this.serviceEvents.emit({ type: 'cancelled', file: this.queue[fileIndex] });\n            }\n          }\n        break;\n        case 'cancelAll':\n          this.subs.forEach(sub => {\n            if (sub.sub) {\n              sub.sub.unsubscribe();\n            }\n\n            const /** @type {?} */ file = this.queue.find(uploadFile => uploadFile.id === sub.id);\n            if (file) {\n              file.progress.status = UploadStatus.Cancelled;\n              this.serviceEvents.emit({ type: 'cancelled', file: file });\n            }\n          });\n        break;\n        case 'remove':\n          if (!event.id) {\n            return;\n          }\n\n          const /** @type {?} */ i = this.queue.findIndex(file => file.id === event.id);\n          if (i !== -1) {\n            const /** @type {?} */ file = this.queue[i];\n            this.queue.splice(i, 1);\n            this.serviceEvents.emit({ type: 'removed', file: file });\n          }\n        break;\n        case 'removeAll':\n          if (this.queue.length) {\n            this.queue = [];\n            this.serviceEvents.emit({ type: 'removedAll' });\n          }\n        break;\n      }\n    });\n  }\n/**\n * @param {?} upload\n * @return {?}\n */\nstartUpload(upload: { file: UploadFile, event: UploadInput }): Observable<UploadOutput> {\n    return new Observable(observer => {\n      const /** @type {?} */ sub = this.uploadFile(upload.file, upload.event)\n        .subscribe(output => {\n          observer.next(output);\n        }, err => {\n          observer.error(err);\n          observer.complete();\n        }, () => {\n          observer.complete();\n        });\n\n      this.subs.push({ id: upload.file.id, sub: sub });\n    });\n  }\n/**\n * @param {?} file\n * @param {?} event\n * @return {?}\n */\nuploadFile(file: UploadFile, event: UploadInput): Observable<UploadOutput> {\n    return new Observable(observer => {\n      const /** @type {?} */ url = event.url || '';\n      const /** @type {?} */ method = event.method || 'POST';\n      const /** @type {?} */ data = event.data || {};\n      const /** @type {?} */ headers = event.headers || {};\n\n      const /** @type {?} */ xhr = new XMLHttpRequest();\n      const /** @type {?} */ time: number = new Date().getTime();\n      let /** @type {?} */ progressStartTime: number = (file.progress.data && file.progress.data.startTime) || time;\n      let /** @type {?} */ speed = 0;\n      let /** @type {?} */ eta: number | null = null;\n\n      xhr.upload.addEventListener('progress', (e: ProgressEvent) => {\n        if (e.lengthComputable) {\n          const /** @type {?} */ percentage = Math.round((e.loaded * 100) / e.total);\n          const /** @type {?} */ diff = new Date().getTime() - time;\n          speed = Math.round(e.loaded / diff * 1000);\n          progressStartTime = (file.progress.data && file.progress.data.startTime) || new Date().getTime();\n          eta = Math.ceil((e.total - e.loaded) / speed);\n\n          file.progress = {\n            status: UploadStatus.Uploading,\n            data: {\n              percentage: percentage,\n              speed: speed,\n              speedHuman: `${humanizeBytes(speed)}/s`,\n              startTime: progressStartTime,\n              endTime: null,\n              eta: eta,\n              etaHuman: this.secondsToHuman(eta)\n            }\n          };\n\n          observer.next({ type: 'uploading', file: file });\n        }\n      }, false);\n\n      xhr.upload.addEventListener('error', (e: Event) => {\n        observer.error(e);\n        observer.complete();\n      });\n\n      xhr.onreadystatechange = () => {\n        if (xhr.readyState === XMLHttpRequest.DONE) {\n          const /** @type {?} */ speedAverage = Math.round(file.size / (new Date().getTime() - progressStartTime) * 1000);\n          file.progress = {\n            status: UploadStatus.Done,\n            data: {\n              percentage: 100,\n              speed: speedAverage,\n              speedHuman: `${humanizeBytes(speedAverage)}/s`,\n              startTime: progressStartTime,\n              endTime: new Date().getTime(),\n              eta: eta,\n              etaHuman: this.secondsToHuman(eta || 0)\n            }\n          };\n\n          file.responseStatus = xhr.status;\n\n          try {\n            file.response = JSON.parse(xhr.response);\n          } catch ( /** @type {?} */e) {\n            file.response = xhr.response;\n          }\n\n          file.responseHeaders = this.parseResponseHeaders(xhr.getAllResponseHeaders());\n\n          observer.next({ type: 'done', file: file });\n\n          observer.complete();\n        }\n      };\n\n      xhr.open(method, url, true);\n      xhr.withCredentials = event.withCredentials ? true : false;\n\n      try {\n        const /** @type {?} */ uploadFile = /** @type {?} */(( <BlobFile>file.nativeFile));\n        const /** @type {?} */ uploadIndex = this.queue.findIndex(outFile => outFile.nativeFile === uploadFile);\n\n        if (this.queue[uploadIndex].progress.status === UploadStatus.Cancelled) {\n          observer.complete();\n        }\n\n        Object.keys(data).forEach(key => file.form.append(key, data[key]));\n        Object.keys(headers).forEach(key => xhr.setRequestHeader(key, headers[key]));\n\n        file.form.append(event.fieldName || 'file', uploadFile, uploadFile.name);\n\n        this.serviceEvents.emit({ type: 'start', file: file });\n        xhr.send(file.form);\n      } catch ( /** @type {?} */e) {\n        observer.complete();\n      }\n\n      return () => {\n        xhr.abort();\n      };\n    });\n  }\n/**\n * @param {?} sec\n * @return {?}\n */\nsecondsToHuman(sec: number): string {\n    return new Date(sec * 1000).toISOString().substr(11, 8);\n  }\n/**\n * @return {?}\n */\ngenerateId(): string {\n    return Math.random().toString(36).substring(7);\n  }\n/**\n * @param {?} contentTypes\n * @return {?}\n */\nsetContentTypes(contentTypes: string[]): void {\n    if ( typeof contentTypes != 'undefined' && contentTypes instanceof Array ) {\n      if (contentTypes.find((type: string) => type === '*') !== undefined) {\n        this.contentTypes = ['*'];\n      } else {\n        this.contentTypes = contentTypes;\n      }\n      return;\n    }\n    this.contentTypes = ['*'];\n  }\n/**\n * @return {?}\n */\nallContentTypesAllowed(): boolean {\n    return this.contentTypes.find((type: string) => type === '*') !== undefined;\n  }\n/**\n * @param {?} mimetype\n * @return {?}\n */\nisContentTypeAllowed(mimetype: string): boolean {\n    if (this.allContentTypesAllowed()) {\n      return true;\n    }\n    return this.contentTypes.find((type: string) => type === mimetype) !== undefined;\n  }\n/**\n * @param {?} file\n * @param {?} index\n * @return {?}\n */\nmakeUploadFile(file: File, index: number): UploadFile {\n    return {\n      fileIndex: index,\n      id: this.generateId(),\n      name: file.name,\n      size: file.size,\n      type: file.type,\n      form: new FormData(),\n      progress: {\n        status: UploadStatus.Queue,\n        data: {\n          percentage: 0,\n          speed: 0,\n          speedHuman: `${humanizeBytes(0)}/s`,\n          startTime: null,\n          endTime: null,\n          eta: null,\n          etaHuman: null\n        }\n      },\n      lastModifiedDate: file.lastModifiedDate,\n      sub: undefined,\n      nativeFile: file\n    };\n  }\n/**\n * @param {?} httpHeaders\n * @return {?}\n */\nprivate parseResponseHeaders(httpHeaders: ByteString) {\n    if (!httpHeaders) {\n      return;\n    }\n    return httpHeaders.split('\\n')\n      .map(x => x.split(/: */, 2))\n      .filter(x => x[0])\n      .reduce((ac, x) => {\n        ac[x[0]] = x[1];\n        return ac;\n      }, {});\n  }\n}\n\nfunction NgUploaderService_tsickle_Closure_declarations() {\n/** @type {?} */\nNgUploaderService.prototype.queue;\n/** @type {?} */\nNgUploaderService.prototype.serviceEvents;\n/** @type {?} */\nNgUploaderService.prototype.uploadScheduler;\n/** @type {?} */\nNgUploaderService.prototype.subs;\n/** @type {?} */\nNgUploaderService.prototype.contentTypes;\n}\n\n","import { Subscription } from 'rxjs/Subscription';\n\nexport interface UploaderOptions {\n  concurrency: number;\n  allowedContentTypes?: string[];\n}\n\nexport interface BlobFile extends Blob {\n  name: string;\n}\nexport type UploadStatus = number;\nexport let UploadStatus: any = {};\nUploadStatus.Queue = 0;\nUploadStatus.Uploading = 1;\nUploadStatus.Done = 2;\nUploadStatus.Cancelled = 3;\nUploadStatus[UploadStatus.Queue] = \"Queue\";\nUploadStatus[UploadStatus.Uploading] = \"Uploading\";\nUploadStatus[UploadStatus.Done] = \"Done\";\nUploadStatus[UploadStatus.Cancelled] = \"Cancelled\";\n\n\nexport interface UploadProgress {\n  status: UploadStatus;\n  data?: {\n    percentage: number;\n    speed: number;\n    speedHuman: string;\n    startTime: number | null;\n    endTime: number | null;\n    eta: number | null;\n    etaHuman: string | null;\n  };\n}\n\nexport interface UploadFile {\n  id: string;\n  fileIndex: number;\n  lastModifiedDate: Date;\n  name: string;\n  size: number;\n  type: string;\n  form: FormData;\n  progress: UploadProgress;\n  response?: any;\n  responseStatus?: number;\n  sub?: Subscription | any;\n  nativeFile?: File;\n  responseHeaders?: { [key: string]: string };\n}\n\nexport interface UploadOutput {\n  type: 'addedToQueue' | 'allAddedToQueue' | 'uploading' | 'done' | 'start' | 'cancelled' | 'dragOver'\n      | 'dragOut' | 'drop' | 'removed' | 'removedAll' | 'rejected';\n  file?: UploadFile;\n  nativeFile?: File;\n}\n\nexport interface UploadInput {\n  type: 'uploadAll' | 'uploadFile' | 'cancel' | 'cancelAll' | 'remove' | 'removeAll';\n  url?: string;\n  method?: string;\n  id?: string;\n  fieldName?: string;\n  fileIndex?: number;\n  file?: UploadFile;\n  data?: { [key: string]: string | Blob };\n  headers?: { [key: string]: string };\n  withCredentials?: boolean;\n}\n"],"names":["NgModule","HostListener","Output","Input","ElementRef","Directive","EventEmitter","Observable","Subject"],"mappings":"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"}
